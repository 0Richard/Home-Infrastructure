# =============================================================================
# macOS /etc/hosts Management
# =============================================================================
# Adds local network hosts for NSA services
# Temporary workaround until Pi-hole DNS is fixed
# =============================================================================

- name: Add NSA hosts entries to /etc/hosts
  become: yes
  ansible.builtin.blockinfile:
    path: /etc/hosts
    marker: "# {mark} ANSIBLE MANAGED - NSA Services"
    block: |
      # NSA Server (192.168.1.183)
      192.168.1.183  nsa nsa.local
      192.168.1.183  pihole pihole.local
      192.168.1.183  laya laya.local
      192.168.1.183  hopo hopo.local
      192.168.1.183  etc etc.local
      192.168.1.183  ha ha.local
      192.168.1.183  plex plex.local
    state: present
  tags: [hosts, dns]
