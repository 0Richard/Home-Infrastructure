# =============================================================================
# NSA Server - dnsmasq Configuration
# =============================================================================
# Purpose: Local DNS server for home network hostnames
# Location: /etc/dnsmasq.conf
#
# Test: nslookup ha 127.0.0.1
# Restart: systemctl restart dnsmasq
# =============================================================================

# Listen on these addresses
# - 127.0.0.1: Local processes
# - 192.168.1.183: LAN clients
# - 10.0.0.1: VPN clients (WireGuard)
listen-address=127.0.0.1
listen-address=192.168.1.183
listen-address=10.0.0.1

# Upstream DNS servers (used for external domains)
server=1.1.1.1
server=8.8.8.8

# =============================================================================
# Local Service Hostnames
# =============================================================================
# These resolve to NSA server for local services

# Docker services
address=/ha/192.168.1.183
address=/laya/192.168.1.183
address=/hopo/192.168.1.183
address=/etc/192.168.1.183

# =============================================================================
# Additional Options
# =============================================================================

# Don't read /etc/resolv.conf (we define upstream servers above)
no-resolv

# Don't poll for changes
no-poll

# Cache size (default is 150)
cache-size=1000

# Never forward plain names (without dots)
domain-needed

# Never forward addresses in non-routed address spaces
bogus-priv
